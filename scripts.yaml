test_script:
  alias: Test Script
  sequence:
  - service: script.run_channel
    data:
      - channel: channel_1
      - duration: duration1
  - wait_template: '{{ is_state(''script.run_channel'', ''off'') }}'
  - service: script.run_channel
    data:
      - channel: channel_2
      - duration: duration2
  - wait_template: '{{ is_state(''script.run_channel'', ''off'') }}'
  - service: script.run_channel
    data:
      - channel: channel_3
      - duration: duration3
  - wait_template: '{{ is_state(''script.run_channel'', ''off'') }}'
  - service: script.run_channel
    data:
      - channel: channel_4
      - duration: duration4
  - wait_template: '{{ is_state(''script.run_channel'', ''off'') }}'
  - service: script.run_channel
    data:
      - channel: channel_5
      - duration: duration5
  - wait_template: '{{ is_state(''script.run_channel'', ''off'') }}'
run_channel:
  alias: Run Channel
  sequence:
  - condition: template
    value_template: '{{ is_state(''input_boolean.'' ~ channel, ''on'') }}'
  - service: switch.turn_on
    data_template:
      entity_id: switch.{{ channel }}
  - delay: 00:{{ '%02d' % (states('input_number.{{duration}}')|int) }}:00
  - service: script.turn_all_off
turn_all_off:
  alias: Turn of all Channels
  sequence:
  - data:
      entity_id: switch.channel_1
    service: switch.turn_off
  - data:
      entity_id: switch.channel_2
    service: switch.turn_off
  - data:
      entity_id: switch.channel_3
    service: switch.turn_off
  - data:
      entity_id: switch.channel_4
    service: switch.turn_off
  - data:
      entity_id: switch.channel_5
    service: switch.turn_off
next:
  alias: Next channel
  sequence:
  - service: script.turn_all_off
  - data:
      entity_id: script.run_channel
    service: script.turn_off
'1556185502004':
  alias: Pump_automation
  sequence:
  - condition: state
    entity_id: switch.channel_1
    state: '"on"'
  - data:
      entity_id: switch.channel_8
    service: switch.turn_on
